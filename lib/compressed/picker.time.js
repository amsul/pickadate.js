/*!
 * Time picker for pickadate.js v3.1.0
 * http://amsul.github.io/pickadate.js/time.htm
 */
!function(){function a(a,b){var c=this,d=a.$node.data("value");c.settings=b,c.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"create validate",view:"create validate",disable:"flipItem",enable:"flipItem"},c.item={},c.item.interval=b.interval||30,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now").set("select",d||a.$node[0].value||c.item.min,{format:d?b.formatSubmit:b.format}),c.key={40:1,38:-1,39:1,37:-1,go:function(a){c.set("highlight",c.item.highlight.pick+a*c.item.interval,{interval:a*c.item.interval}),this.render()}},a.on("render",function(){var d=a.$root.children(),e=d.find("."+b.klass.viewset);e.length?d[0].scrollTop=~~(e.position().top-2*e[0].clientHeight):console.warn("Nothing to viewset with",c.item.view)}).on("open",function(){a.$root.find("button").attr("disable",!1)}).on("close",function(){a.$root.find("button").attr("disable",!0)})}var b=24,c=60,d=12,e=b*c;a.prototype.set=function(a,b,c){var d=this;return d.item["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",d.item.select,c):"highlight"==a?d.set("view",d.item.highlight,c):"interval"==a?d.set("min",d.item.min,c).set("max",d.item.max,c):("flip"==a||"min"==a||"max"==a||"disable"==a||"enable"==a)&&d.item.select&&d.item.highlight&&("min"==a&&d.set("max",d.item.max,c),d.set("select",d.item.select,c).set("highlight",d.item.highlight,c)),d},a.prototype.get=function(a){return this.item[a]},a.prototype.create=function(a,d,f){var g=this;return d=void 0===d?a:d,Picker._.isObject(d)&&Picker._.isInteger(d.pick)?d=d.pick:Array.isArray(d)?d=+d[0]*c+ +d[1]:Picker._.isInteger(d)||(d=g.now(a,d,f)),"max"==a&&d<g.item.min.pick&&(d+=e),d=g.normalize(d,f),{hour:~~(b+d/c)%b,mins:(c+d%c)%c,time:(e+d)%e,pick:d}},a.prototype.now=function(a,b){var d=new Date,e=d.getHours()*c+d.getMinutes();return Picker._.isInteger(b)?b+="min"==a&&0>b&&0===e?2:1:b=1,b*this.item.interval+e},a.prototype.normalize=function(a){return a-((0>a?this.item.interval:0)+a%this.item.interval)},a.prototype.measure=function(a,d,e){var f=this;return d?d===!0||Picker._.isInteger(d)?d=f.now(a,d,e):Picker._.isObject(d)&&Picker._.isInteger(d.pick)&&(d=f.normalize(d.pick,e)):d="min"==a?[0,0]:[b-1,c-1],d},a.prototype.validate=function(a,b,c){var d=this,e=c&&c.interval?c.interval:d.item.interval;return d.disabled(b)&&(b=d.shift(b,e)),b=d.scope(b),d.disabled(b)&&(b=d.shift(b,-1*e)),b},a.prototype.disabled=function(a){var b=this,c=b.item.disable.filter(function(c){return Picker._.isInteger(c)?a.hour==c:Array.isArray(c)?a.pick==b.create(c).pick:void 0}).length;return-1===b.item.enable?!c:c},a.prototype.shift=function(a,b){for(var c=this;c.disabled(a)&&(a=c.create(a.pick+=b||c.item.interval),!(a.pick<=c.item.min.pick||a.pick>=c.item.max.pick)););return a},a.prototype.scope=function(a){var b=this.item.min.pick,c=this.item.max.pick;return this.create(a.pick>c?c:a.pick<b?b:a)},a.prototype.parse=function(a,b,d){var e=this,f={};if(!b||Picker._.isInteger(b)||Array.isArray(b)||Picker._.isDate(b)||Picker._.isObject(b)&&Picker._.isInteger(b.pick))return b;if(!d||!d.format)throw"Need a formatting option to parse this..";return e.formats.toArray(d.format).map(function(a){var c=e.formats[a],d=c?Picker._.trigger(c,e,[b,f]):a.replace(/^!/,"").length;c&&(f[a]=b.substr(0,d)),b=b.substr(d)}),+f.i+c*(+(f.H||f.HH)||+(f.h||f.hh)%12+(/^p/i.test(f.A||f.a)?12:0))},a.prototype.formats={h:function(a,b){return a?Picker._.digits(a):b.hour%d||d},hh:function(a,b){return a?2:Picker._.lead(b.hour%d||d)},H:function(a,b){return a?Picker._.digits(a):""+b.hour},HH:function(a,b){return a?Picker._.digits(a):Picker._.lead(b.hour)},i:function(a,b){return a?2:Picker._.lead(b.mins)},a:function(a,b){return a?4:e/2>b.time%e?"a.m.":"p.m."},A:function(a,b){return a?2:e/2>b.time%e?"AM":"PM"},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return Picker._.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}},a.prototype.flipItem=function(a,b){var c=this,d=c.item.disable,e=-1===c.item.enable;return"flip"==b?c.item.enable=e?1:-1:!e&&"enable"==a||e&&"disable"==a?d=c.removeDisabled(d,b):(!e&&"disable"==a||e&&"enable"==a)&&(d=c.addDisabled(d,b)),d},a.prototype.addDisabled=function(a,b){var c=this;return b.map(function(b){c.filterDisabled(a,b).length||a.push(b)}),a},a.prototype.removeDisabled=function(a,b){var c=this;return b.map(function(b){a=c.filterDisabled(a,b,1)}),a},a.prototype.filterDisabled=function(a,b,c){var d=Array.isArray(b);return a.filter(function(a){var e=!d&&b===a||d&&Array.isArray(a)&&b.toString()===a.toString();return c?!e:e})},a.prototype.i=function(a,b){return Picker._.isInteger(b)&&b>0?b:this.item.interval},a.prototype.nodes=function(a){var b=this,c=b.settings,d=b.item.select,e=b.item.highlight,f=b.item.view,g=b.item.disable;return Picker._.node("ul",Picker._.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:"li",item:function(a){return a=b.create(a),[Picker._.trigger(b.formats.toString,b,[Picker._.trigger(c.formatLabel,b,[a])||c.format,a]),function(h,i){return d&&d.pick==i&&h.push(c.klass.selected),e&&e.pick==i&&h.push(c.klass.highlighted),f&&f.pick==i&&h.push(c.klass.viewset),g&&b.disabled(a)&&h.push(c.klass.disabled),h.join(" ")}([c.klass.listItem],a.pick),"data-pick="+a.pick]}})+Picker._.node("li",Picker._.node("button",c.clear,c.klass.buttonClear,"data-clear=1"+(a?"":" disable"))),c.klass.list)},a.defaults=function(a){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:a+" "+a+"--time",holder:a+"__holder",list:a+"__list",listItem:a+"__list-item",disabled:a+"__list-item--disabled",selected:a+"__list-item--selected",highlighted:a+"__list-item--highlighted",viewset:a+"__list-item--viewset",now:a+"__list-item--now",buttonClear:a+"__button--clear"}}}(Picker.klasses().picker),Picker.extend("pickatime",a)}();